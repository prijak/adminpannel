require([ 'jquery', 'jquery/ui'], function($){
	$(document).ready(function($) {

      /*$('.messages').delay(4000).animate({top: '-50px'}, 800);
      $('.messages').fadeOut();*/
     	var messagesShow = false, seconds = 2, currentSeconds = 0;

     	setInterval(function() {

     		if(messagesShow == false && $('.page.messages').find('.message').length > 0)
     		{
     			currentSeconds++;
     			messagesShow = true;
     			$('.messages').fadeIn().animate({top: '95px'}, 400);
     		}
     		else if(messagesShow == true)
     		{
     			currentSeconds++;
     			if(currentSeconds > seconds)
     			{
     				currentSeconds = 0;
     				messagesShow = false;
     				$('.messages').delay(1000).animate({top: '-95px'}, 400);
      				$('.messages').fadeOut(function() {
      					$('.page.messages').find('.message').remove();
      				});
     			}
     		}
     	}, 500);


		/*jQuery("li.parent a.level-top, li.parent > a").attr('href','javascript:void(0)');*/

		/* Header Search */
		$(".block-search .block-title").click(function(){
			jQuery('.block-search .block-content').fadeToggle('fast');
			jQuery("html").toggleClass("no-scroll");
		});

		$(".search-overlay").click(function(){
			jQuery('.block-search .block-content').fadeOut('fast');
			jQuery("html").removeClass("no-scroll");
		});

		$(".qty-wrapper > .qty-trigger").click(function() {
			$(this).next().toggle();
		});

		$(".qty-wrapper > .qty-options > .options").click(function() {
			$(this).parent().parent().next().val($(this).attr('data-value'));
			$(this).parent().hide();
			$(this).parent().prev().html($(this).html());
		});

		$(document).on('mousewheel DOMMouseScroll', '.search-overlay, #search_mini_form, .page-header.no-scroll', function(e) {
    		var scrollTo = null;
			if (e.type == 'mousewheel') {
				scrollTo = (e.originalEvent.wheelDelta * -1);
			}
			else if (e.type == 'DOMMouseScroll') {
				scrollTo = 40 * e.originalEvent.detail;
			}

			if (scrollTo) {
				e.preventDefault();
				$(this).scrollTop(scrollTo + $(this).scrollTop());
			}
		});

		/* Header Menu */
		$(".navigation li.level0.parent").mouseenter(function(){
			jQuery('.navigation .level0.submenu').addClass('v-align');
		});



		function setHeight() {
			windowHeight = $(window).innerHeight();
			$('.navigation .level0.submenu').css('height', (windowHeight) - 85);
		/*	$('#banners-slider').css('height', (windowHeight) - 85); */
			$('#idea-home-top-banner').css('height', (windowHeight) - 151);
			$('#banners-slider .banner-container').css('height', (windowHeight) - 85);
		    $('.navigation-overlay').css('height', (windowHeight) - 85);
		/*	$('.search-overlay').css('height', (windowHeight) - 85); */
			$('.cms-home .section-container').css('height', (windowHeight));
			$('.cms-ideas .section-container').css('height', (windowHeight));
			$('#banners-slider').css('height', (windowHeight) - 116);

        	 if($('.cms-home .section-container .section-video-trigger').length > 0)
                $('.cms-home .section-container .section-video-trigger').css('height', (windowHeight));
		};

		setHeight();

		$(window).resize(function() {
			setHeight();
		});

		/* Category banner*/

		if($('.category-view').find('.section-container').length > 0) {
			$('.category-view').after('<div class="category-arrow-target"></div>');
			$('.category-view').prepend($('<a class="category-banner-arrow">down</a>'));
		}



		$('.page.messages').insertAfter('.page-header');

		/* Cart page buttons moves */
		$('.cart-container .form-cart .actions.main').appendTo('.cart-container');
		$('.cart-summary .checkout-methods-items .action.primary.checkout').appendTo('.cart-container .cart.actions');

		/* Product detail Tabs atrributes remove */
		/*jQuery(".product.info.detailed .data.item.title").removeAttr('data-role role data-collapsible aria-expanded aria-labeledby');
		jQuery(".product.info.detailed .data.item.title .data.switch").attr('href','javascript:void(0)');
		jQuery(".product.info.detailed .data.item.content").removeAttr('data-role');*/

		/*jQuery('#product\\.info\\.description').show();
		jQuery('#ktpl_catalog_product_tab_features')	.show();
		jQuery('#tab-label-product\\.info\\.description').addClass('active');
		jQuery('#tab-label-ktpl_catalog_product_tab_features').addClass('active');*/

		/*$(document).on("click", ".product.info.detailed .data.item.title", function(){
			$(this).toggleClass("active");
			$(this).next(".data.item.content").slideToggle();
		})*/

		/* Sticky Header*/
        /*jQuery(window).scroll(function(){
           if (jQuery(this).scrollTop() > 10) {
                jQuery('body').addClass('stickyyyy');
            }
            else {
                $('body').removeClass('stickyyyy');
            }

            if ($(this).scrollTop() > 10) {
               $('body').addClass('slideDown');
            }
            else {
               $('body').removeClass('slideDown');
            }

        });*/

		/* Header Menu ends */

		/* Home top banner down arrow click */
		$('a.home-banner-arrow').on('click', function(event) {
			var targetcontainer = $('#home-arrow-target');
			event.preventDefault();
			$('html, body').stop().animate({
				scrollTop: targetcontainer.offset().top
			}, 800);
		});

		/* Category top banner down arrow click */
		$('a.category-banner-arrow').on('click', function(event) {
			var targetcontainer = $('.category-arrow-target');
			event.preventDefault();
			$('html, body').stop().animate({
				scrollTop: targetcontainer.offset().top
			}, 800);
		});


		/* For equal height on Product listing page */
		equalheight = function(container){

		var currentTallest = 0,
		     currentRowStart = 0,
		     rowDivs = new Array(),
		     $el,
		     topPosition = 0;
		 $(container).each(function() {

		   $el = $(this);
		   $($el).height('auto')
		   topPostion = $el.position().top;

		   if (currentRowStart != topPostion) {
		     for (currentDiv = 0 ; currentDiv < rowDivs.length ; currentDiv++) {
		       rowDivs[currentDiv].height(currentTallest);
		     }
		     rowDivs.length = 0; /*empty the array*/
		     currentRowStart = topPostion;
		     currentTallest = $el.height();
		     rowDivs.push($el);
		   } else {
		     rowDivs.push($el);
		     currentTallest = (currentTallest < $el.height()) ? ($el.height()) : (currentTallest);
		  }
		   for (currentDiv = 0 ; currentDiv < rowDivs.length ; currentDiv++) {
		     rowDivs[currentDiv].height(currentTallest);
		   }
		 });
		}

		$(window).load(function() {
		  equalheight('#amasty-shopby-product-list .product-item .product-item-info, .category-drinkware-bottles .products-list li, .category-dinnerware .products-list li, .contact-index-index .contact-right-info > div');
		});


		$(window).resize(function(){
		  equalheight('#amasty-shopby-product-list .product-item .product-item-info, .category-drinkware-bottles .products-list li, .category-dinnerware .products-list li, .contact-index-index .contact-right-info > div');
		});

		$(document).ajaxComplete(function(){
		  equalheight('#amasty-shopby-product-list .product-item .product-item-info, .category-drinkware-bottles .products-list li, .category-dinnerware .products-list li, .contact-index-index .contact-right-info > div');
		});

		setTimeout(function(){
		  equalheight('#amasty-shopby-product-list .product-item .product-item-info, .category-drinkware-bottles .products-list li, .category-dinnerware .products-list li, .contact-index-index .contact-right-info > div');
		}, 5000);

		/*var abc = $('.contact-right-info > div > p').length;*/
		$('.contact-right-info > div').each(function(){
			var abc = $(this).find('p').length;
			$(this).addClass('p-'+abc);
		});

		$('.navigation ul .level0').each(function(){
			if($(this).find('ul').length > 0 ){
				$(this).addClass('ul-content');
			}
		});
		$('.navigation ul .level0.ul-content > .level-top').click(function(){
			$('.navigation ul .level0.ul-content').removeClass('open-submenu');
			$(this).parent().toggleClass('open-submenu');
		});

		$('.nav-toggle').click(function(){
			$('.navigation ul .level0.ul-content').removeClass('open-submenu');
		});
		if($('.panel.wrapper > .customer-name').length > 0 ){
			$('body').addClass('with-login');
		}

		$(".block-search").mouseleave(function(){
			$('#search_autocomplete').hide();
		});

		$('.product-info-check-availibility').appendTo('.product-add-form').insertAfter('.box-tocart .field.qty');
		$('.product-info-check-availibilities').appendTo('.product-add-form').insertAfter('.product-info-price .product-info-tax-warranty');




		if ( $(window).width() > 1025 ) {
			$('.navigation li.level0').each(function(){
				if($(this).find('li.level1').hasClass('parent')){
					$(this).find('li.level1').parent().addClass('parent-content');
				}
				else {
					$(this).find('li.level1').parent().addClass('no-parent-content');
				}
				/*$(this).find('li.level1.parent').parent().addClass('parent-content');*/
				$(this).find('li.level1.parent').last().addClass('test');
				$(this).find('li.level1.mega-menu-image-wrapper').addClass('parent');

				$(this).find('.parent-content li.level1.parent.test').after('<ul class="single-li"></ul>');
				$(this).find('.no-parent-content li.level1:first-child').before('<ul class="single-li"></ul>');
				$(this).find('.parent-content li.level1:not(.parent)').appendTo($(this).find('.single-li'));
				$(this).find('.no-parent-content li.level1:not(.parent)').appendTo($(this).find('.single-li'));

			});
		}

	});

});
require(['jquery', 'OwlCarousel'], function($){
       $(function(){
               $('#register-product-slider').owlCarousel({
                       "autoplay": true,
                       "items": 1,
                       "nav": false,
                       "dots": false,
                       "loop": true,                    
               });
               $('#offer-slider-mobile').owlCarousel({
                       "autoplay": true,
                       "items": 1,
                       "nav": false,
                       "dots": false,
                       "loop": true,                    
               });
       })
});

//  this js is for review slide modal start
    require(['jquery'], function ($) {
        $(document).ready(function(){
			$(".aaa").click(function(){
				$(".aaa").css("display", "none");
				$("#myModal").show("slow");
				$("#myModal").css("padding-right", "0px");
				$(".fade").addClass("in");
				$("#myModal").fadeIn(500);
			  });

			  $(".close span").click(function(){
				$("#myModal").hide("slow");
				$(".fade").removeClass("in");
				$(".aaa").css("display", "block");
			  });

			  var modal = document.getElementById('myModal');

// When the user clicks anywhere outside of the modal, close it
window.onclick = function(event) {
  if (event.target == modal) {
	$("#myModal").hide("slow");
	$(".aaa").css("display", "block");
  }
}

        });
    });
 
	// this js is for review slide modal End